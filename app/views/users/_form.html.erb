<% was_validated = user.errors.any? %>

<%= form_with(model: user, local: true, novalidate: true, class: "mb-3") do |f| %>
  <div class="form-group">
    <% first_name_class = "form-control" %>
    <% first_name_was_invalid = user.errors.include?(:first_name) %>

    <% if was_validated %>
      <% if first_name_was_invalid %>
        <% first_name_class << " is-invalid" %>
      <% else %>
        <% first_name_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :first_name %>
    <%= f.text_area :first_name, class: first_name_class, placeholder: "Enter first name" %>
    <% if first_name_was_invalid %>
      <% user.errors.full_messages_for(:first_name).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% last_name_class = "form-control" %>
    <% last_name_was_invalid = user.errors.include?(:last_name) %>

    <% if was_validated %>
      <% if last_name_was_invalid %>
        <% last_name_class << " is-invalid" %>
      <% else %>
        <% last_name_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :last_name %>
    <%= f.text_area :last_name, class: last_name_class, placeholder: "Enter last name" %>
    <% if last_name_was_invalid %>
      <% user.errors.full_messages_for(:last_name).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% state_class = "form-control" %>
    <% state_was_invalid = user.errors.include?(:state) %>

    <% if was_validated %>
      <% if state_was_invalid %>
        <% state_class << " is-invalid" %>
      <% else %>
        <% state_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :state %>
    <%= f.text_area :state, class: state_class, placeholder: "Enter state" %>
    <% if state_was_invalid %>
      <% user.errors.full_messages_for(:state).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% city_class = "form-control" %>
    <% city_was_invalid = user.errors.include?(:city) %>

    <% if was_validated %>
      <% if city_was_invalid %>
        <% city_class << " is-invalid" %>
      <% else %>
        <% city_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :city %>
    <%= f.text_field :city, class: city_class, placeholder: "Enter city" %>
    <% if city_was_invalid %>
      <% user.errors.full_messages_for(:city).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% neighborhood_class = "form-control" %>
    <% neighborhood_was_invalid = user.errors.include?(:neighborhood) %>

    <% if was_validated %>
      <% if neighborhood_was_invalid %>
        <% neighborhood_class << " is-invalid" %>
      <% else %>
        <% neighborhood_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :neighborhood %>
    <%= f.text_area :neighborhood, class: neighborhood_class, placeholder: "Enter neighborhood" %>
    <% if neighborhood_was_invalid %>
      <% user.errors.full_messages_for(:neighborhood).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% email_class = "form-control" %>
    <% email_was_invalid = user.errors.include?(:email) %>

    <% if was_validated %>
      <% if email_was_invalid %>
        <% email_class << " is-invalid" %>
      <% else %>
        <% email_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :email %>
    <%= f.text_field :email, class: email_class, placeholder: "Enter email" %>
    <% if email_was_invalid %>
      <% user.errors.full_messages_for(:email).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% password_class = "form-control" %>
    <% password_was_invalid = user.errors.include?(:password) %>

    <% if was_validated %>
      <% if password_was_invalid %>
        <% password_class << " is-invalid" %>
      <% else %>
        <% password_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :password %>
    <%= f.text_field :password, class: password_class, placeholder: "Enter password" %>
    <% if password_was_invalid %>
      <% user.errors.full_messages_for(:password).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% level_class = "form-control" %>
    <% level_was_invalid = user.errors.include?(:level) %>

    <% if was_validated %>
      <% if level_was_invalid %>
        <% level_class << " is-invalid" %>
      <% else %>
        <% level_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :level %>
    <%= f.text_field :level, class: level_class, placeholder: "Enter level" %>
    <% if level_was_invalid %>
      <% user.errors.full_messages_for(:level).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% gender_class = "form-control" %>
    <% gender_was_invalid = user.errors.include?(:gender) %>

    <% if was_validated %>
      <% if gender_was_invalid %>
        <% gender_class << " is-invalid" %>
      <% else %>
        <% gender_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :gender %>
    <%= f.text_field :gender, class: gender_class, placeholder: "Enter gender" %>
    <% if gender_was_invalid %>
      <% user.errors.full_messages_for(:gender).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% age_class = "form-control" %>
    <% age_was_invalid = user.errors.include?(:age) %>

    <% if was_validated %>
      <% if age_was_invalid %>
        <% age_class << " is-invalid" %>
      <% else %>
        <% age_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :age %>
    <%= f.number_field :age, class: age_class, placeholder: "Enter age" %>
    <% if age_was_invalid %>
      <% user.errors.full_messages_for(:age).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% profile_picture_class = "form-control" %>
    <% profile_picture_was_invalid = user.errors.include?(:profile_picture) %>

    <% if was_validated %>
      <% if profile_picture_was_invalid %>
        <% profile_picture_class << " is-invalid" %>
      <% else %>
        <% profile_picture_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :profile_picture %>
    <%= f.file_field :profile_picture, class: "form-control" %>
    <% if profile_picture_was_invalid %>
      <% user.errors.full_messages_for(:profile_picture).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-check">
    <% coach_class = "form-check-input" %>
    <% coach_was_invalid = user.errors.include?(:coach) %>

    <% if was_validated %>
      <% if coach_was_invalid %>
        <% coach_class << " is-invalid" %>
      <% else %>
        <% coach_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :coach, class: "form-check-label" do %>
      <%= f.check_box :coach, class: coach_class %> Coach
    <% end %>
    <% if coach_was_invalid %>
      <% user.errors.full_messages_for(:coach).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% cost_per_hour_class = "form-control" %>
    <% cost_per_hour_was_invalid = user.errors.include?(:cost_per_hour) %>

    <% if was_validated %>
      <% if cost_per_hour_was_invalid %>
        <% cost_per_hour_class << " is-invalid" %>
      <% else %>
        <% cost_per_hour_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :cost_per_hour %>
    <%= f.number_field :cost_per_hour, class: cost_per_hour_class, placeholder: "Enter cost per hour" %>
    <% if cost_per_hour_was_invalid %>
      <% user.errors.full_messages_for(:cost_per_hour).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <%= f.button class: "btn btn-outline-secondary btn-block" %>
<% end %>
